<div class="container mt-5 mb-5">
  <div class="row">
    <div class="col"></div>
    <div class="col">
      <span class="h1">お問い合わせ一覧</span>
    </div>
    <div class="col">
      <%= form_with(url: admin_path, method: :get) do |f| %>
        <span class="font-weight-bold mr-3">対応済み/未対応</span>
        <%= f.select(:supported_status, Contact.supported_statuses_i18n, {}, class: "form-control") %>
        <%= f.submit '表示', class:"btn btn-primary ml-3" %>
      <% end %>
    </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col">
      <table class="table table-hover">
        <thead>
          <tr class="text-center">
            <th class="col-1">会員名</th>
            <th class="col-2">件名</th>
            <th class="col-1">ステータス</th>
          </tr>
        </thead>
        <% @contacts.each do |contact| %>
        <tbody>
          <tr class="text-center">
            <td class="font-weight-bold">
              <%= contact.member.name %>
            </td>
            <td class="font-weight-bold">
              <%= link_to edit_admin_contact_path(contact), class:"text-dark" do %>
                <%= contact.subject %>
              <% end %>
            </td>
              <% if contact.supported_status == "unsupported" %>
              <td class="text-secondary font-weight-bold">
                <%= Contact.supported_statuses_i18n[contact.supported_status] %>
              </td>
              <% elsif contact.supported_status == "fixed" %>
              <td class="text-success font-weight-bold">
                <%= Contact.supported_statuses_i18n[contact.supported_status] %>
              </td>
              <% end %>
          </tr>
        </tbody>
        <% end %>
      </table>
    </div>
  </div>
</div>